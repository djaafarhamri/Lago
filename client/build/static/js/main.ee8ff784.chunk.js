(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(47),s=n.n(i),a=(n(57),n(3)),u=n(19),o=n.n(u),j=n(25),l=n(36),b=n(2),f=n(11),d=(n(59),n(24)),O=n.n(d),m=n(52),p=Object(m.a)("http://localhost:4000/"),h=r.a.createContext(),x="data:image/jpeg;base64,R0lGODdhwQDBAPIAANrY1ayqqJqYlcnHxISCgLy7t4mHhefl4ywAAAAAwQDBAAAD/3i63P4wykmrvTjrzbv/YCiOZGmeaKqubOu+cCzPdG3feK7vfO//wKBwSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+16v+CwGAcADAro9GANGHvN6bhc3XZf4fO8PBCo26EAeoJzAQIFf09neWtnioMBBAJ+iEiOagNlmWWWeZAGA5RIeZqkmZx7BJ+hRXOYpa+DBQIEBKCrQa2vurEFBga1tz+crrqlvLO+k8Fkc8Wvp3m+kcs6gXLOsLwDyASH1DfD2KTQnb6+3zbWceKa5HoC0t7oMuHsZbxy8L8G8zLqdPbwxRkQwFy3fjD+obHnLpZBAQhfjBLX0KE5A8oiosiFrf9iLH2/5GlEoXBhMY/HUvkKMFJFyQLFBB572DIFNGKZZGpD5gtizRPkGKHUKesiv58mhhL9qDIZ0hJKlwri6fTpiKhSoxm1SgJr1jgFt3IV4fUrGk/mfI4F8dJsSoMs17J1SzSsQZFyO9DVCVKarbweymY1eg7wh7Z78zX9Fdewh8Sx0BrM6DiDYJ2Ep1X+APld5r+bOVx+e1Fz6Med0WxbLI3yaQyIv/a9+xrE6DlUada2vdeuUdO7P9ye/dB1cA2Cff+WdHxE7E65jTZuHuL5nn2EpU2n3gGPTsnZIxnnTsG6IPCZCWwnX34468wCQLOPYB5f9PTr5zNIfR++fP3/9RGVXXjq6adAgEspN6A0qrCH4FIELRhefq89+BV6EqbyX2i3EUWchIyNt5Z3qQ3yYYYNbmZhb++BWGBoK9LVX4Z4OVaifS1muCFgN/IC4oAEiDhWh0v9OGBtRH5n5G8UGtbjeTkueBCST+ZxIojBxTjYknAdlyQvGP4oJGBjAnDljzwBU8YBa7bZxpjkAcBleAbtaCAGc+p4pwdy5gmknXuWh52fpQEa6AQCJCpNlHoeugFYhcDD6GeOaoBYIQy6WGOlE8R2RiGTTsmpBfUVFOWLo1YQ1ZXApSoBVmG26ioEXs0I56hbUjorfVndh+quDiT3nqzAKnBhjrceqmV//6IWq8BlJxK7q1mNOqtlL1I2ieuFLiYLoFlhdlmsWzNOBuy1RbmoVqroYvsjMK52OOlFrrYbbmba6rfXmZltamBi/Gbn7WtJ+iltnJAR+ut87aZxb4b51taww/MC6W9w/FVsMcKpEUqYoY5NLIfHv4Gcl8hgkfzbxWT2+PCczVaGsmIqM8lhleUqvG5eX+pRM5DMyUXijS97rOGIVVL8c7Zc9WyixkZH/I3Tgyz97s4RUV211eq2pDWUXHcd0cxgQv3zwtSQTVrYNPbz9dZsvzuwF2/DHXeGWIeidtl3v8uyG3VPZTbbc2ext499G4n2H4HrUXTiVVFyuEWQvyt1F/+NdzJ436sk7XjlXML7x+SCgB563mF4rpXpXBYuRZ8BqF6AgqxXO8YAtNAiAB8u51z7cn9IRktPvO/r+++Eoe7FjMMbkOjufEQfe/SzS69o88jD7PoTfb77S+5NhW8Q9tkb/HcWA5SvvouXW1HA5utDvngXj8f/uxv128/69k0cr3/t/GNCwP7HuiCNgYAEFN0XuofA+CnwCw3UX8y6wMAIlu+By4OfBZdmwANqcINGwyAYZvFBEIYuRXZYTQlNCKRUtA9zplohC3NnCHQEIobkY2GGhmeIAL5hdpICnw7BpxJDYIIrcIjUoog4qMoRMXc92V0BjngaM3yKD4oCyRM4t8hFLl7kedCboiuU1Q6hQEgomWCTs9bIxja68Y1wjKMc50jHOtrxjnjMox73yMc++vGPgKREAgAAOw==",v=n.p+"static/media/logo.57714c60.png",g=n.p+"static/media/close.ffdafe3f.png",w=(n(82),n(0));function A(e){var t=e.times,n=e.challengers,r=e.setChallengers,i=Object(c.useContext)(h),s=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);return Object(c.useEffect)((function(){return function(){}}),[]),Object(w.jsx)("div",{className:"challengers",children:n&&n.map((function(e,c){return Object(w.jsxs)("div",{style:{top:85*(c+1)+"px"},className:"challenger",children:[Object(w.jsxs)("p",{style:{color:"white"},children:["challenge from ",e]}),Object(w.jsx)(f.b,{to:"/Game/"+t[c]+s,children:Object(w.jsx)("button",{onClick:function(){!function(e,c){i.emit("accept",{challenger:e,room:s,time:t[c]}),r(n.filter((function(t){return t!==e})))}(e,c)},children:"accept"})}),Object(w.jsx)("button",{onClick:function(){!function(e){r(n.filter((function(t){return t!==e})))}(e)},children:"refuse"})]},c)}))})}var y=n(23),S=n.n(y);n(84),n(85);function C(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"title",children:Object(w.jsx)("h2",{children:"Play the Computer"})}),Object(w.jsxs)("div",{className:"friend computer",children:[Object(w.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAC00lEQVR4nO2bQU8TQRTHf68Y48EgpYmxWDlL+AZGrx74ABxI0MSk5WLiDfCCRo0Hbx7rlQQjn4C7fAVSzwXbxAStPRFI93nQBm2hO9vd2Z2p+7vN9s30/f+dnX27s4WcnP8aMQ1c+dReQqgDFYv5jEX3pMfPkwCAqYL0rhXk5d6TyhuTvgXjb/FAPEAv0KmTQF+Y9jc3wAPxfXqBXjEdI4oBTnGZ+Kh4aUBS4sFDA5IUD54ZkLR48MgAG+LBEwNsiQcPDLApHhw3wLZ4cNiANMSDowakJR4cNCBN8eCYAWmLB4cMyEI8OGJAVuLBAQOyFA8ZG5C1eMjQABfEQ0YGuCIeMjDAJfGQsgGuiYcUDXBRPIDx09Ontw9t5pE49wzjMq8DssZrA1qtNq1WO9YYXhuQBMZrAHCEY7tDc3Plyz5qmo4RZW+wquDDSthEtGYabLw7HJd6fedu58e3hknsTPHmwtrayhfbOUGqa8DpQzux8YiyBsSiVCyelWaLZsHKmd1szklvBgiLVmJjkuIpIBFERYmNR4oGaARRUWLjYfUq8O7t+yUt6Piv1giHEkht/fmzvWQzO8fqDIglHkC5o6L15DIaxu4pIKjV8RPAqgESSA2JVT02FYyrupycnJyo+Piu8JGi1Y/Lc4nUBj6+K1wRJLHaIMrdoAvi+8wPHljcPbg627n+GmQVUEG2j2e6WwfLi6ejBkrtdtg2pc70K0XX+21FN0qdaYDNUf3GKoT2G232G+3M2heh6KOhY6KPw7RM0lPh4Sekyq2wTuZXgd22U3X9znL5n9wffGhemN/n2vxIjZM0A8ZirEWwfz7eXyiPbEclbLx+O0kmaQa0Bg8IfA3rNNYMGPwlwtpJj38RgmwruvH3sUBkO6zfxNQBxzPdrVJnGkVX4bch3290Q/895uve4NDe35+Kb5OQwmcQ4zVA0Spu7A02UfO9v5ycnJH8AnWKTkL/vDLAAAAAAElFTkSuQmCC",alt:""}),Object(w.jsx)("h2",{children:"Computer"}),Object(w.jsx)(f.b,{to:"/computer",children:Object(w.jsx)("button",{children:"Play"})})]})]})}var N=function(e){var t=e.name,n=e.time,r=Object(c.useContext)(h),i=Object(c.useState)([]),s=Object(b.a)(i,2),a=s[0],u=s[1];return Object(c.useEffect)((function(){return r.emit("get_users"),function(){}}),[r]),Object(c.useEffect)((function(){return r.on("user_dis",(function(){r.emit("get_users")})),function(){}}),[r]),Object(c.useEffect)((function(){return r.on("online_users",(function(e){for(var n=[],c=0;c<e.length;c++)n.includes(e[c].name)||n.push(e[c].name);u(n.filter((function(e){return e!==t})))})),function(){}}),[r,t]),Object(w.jsxs)("div",{className:"online",children:[Object(w.jsx)("div",{className:"title",children:Object(w.jsx)("h2",{children:"Online Users"})}),Object(w.jsx)("div",{className:"friends",children:a&&a.map((function(e,c){return Object(w.jsxs)("div",{className:"friend",children:[Object(w.jsx)("img",{src:x,alt:""}),Object(w.jsx)("h2",{children:e}),Object(w.jsx)("button",{className:e,onClick:function(){!function(e){r.emit("play",{name:t,friend:e,time:n})}(e)},children:"Play"})]},c)}))}),Object(w.jsx)(C,{})]})},k=(n(86),function(){var e=Object(c.useState)(0),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(10),s=Object(b.a)(i,2),a=s[0],u=s[1],o=Object(c.useState)(0),j=Object(b.a)(o,2),l=j[0],f=j[1],d=Object(c.useState)(0),O=Object(b.a)(d,2),m=O[0],p=O[1];return{seconds:n,minutes:a,hours:l,incre:m,renderGameSettings:Object(w.jsxs)("div",{className:"GameSettings",children:[Object(w.jsx)("h2",{children:"Game Settings"}),Object(w.jsx)("h3",{children:"Time Control"}),Object(w.jsxs)("div",{className:"TimeControl",children:[Object(w.jsxs)("div",{className:"GameSettingsInput",children:[Object(w.jsx)("input",{onChange:function(e){f(e.target.value)},type:"number",min:0,placeholder:"hou",value:l}),Object(w.jsx)("p",{children:"hour"})]}),Object(w.jsxs)("div",{className:"GameSettingsInput",children:[Object(w.jsx)("input",{onChange:function(e){u(e.target.value)},type:"number",min:0,placeholder:"min",value:a}),Object(w.jsx)("p",{children:"min"})]}),Object(w.jsxs)("div",{className:"GameSettingsInput",children:[Object(w.jsx)("input",{onChange:function(e){r(e.target.value)},type:"number",min:0,placeholder:"sec",value:n}),Object(w.jsx)("p",{children:"sec"})]}),Object(w.jsxs)("div",{className:"GameSettingsInput",children:[Object(w.jsx)("input",{onChange:function(e){p(e.target.value)},type:"number",min:0,placeholder:"inc",value:m}),Object(w.jsx)("p",{children:"incr"})]})]})]})}});var B=function(){var e=Object(a.f)(),t=Object(c.useContext)(h),n=Object(c.useState)(""),r=Object(b.a)(n,2),i=r[0],s=r[1],u=Object(c.useState)(""),d=Object(b.a)(u,2),m=d[0],p=d[1],y=Object(c.useState)(""),C=Object(b.a)(y,2),B=C[0],G=C[1],E=Object(c.useState)(""),D=Object(b.a)(E,2),P=D[0],I=D[1],q=Object(c.useState)(""),Q=Object(b.a)(q,2),W=Q[0],T=Q[1],R=Object(c.useState)(!1),Y=Object(b.a)(R,2),L=Y[0],X=Y[1],F=Object(c.useState)(!1),Z=Object(b.a)(F,2),K=Z[0],H=Z[1],M=Object(c.useState)([]),U=Object(b.a)(M,2),z=U[0],V=U[1],J=k(),_=J.seconds,$=J.minutes,ee=J.hours,te=J.incre,ne=J.renderGameSettings,ce="http://localhost:4000/",re=Object(c.useRef)(),ie=Object(f.c)(),se=Object(b.a)(ie,2),ae=se[0],ue=se[1],oe=ae.get("p");Object(c.useEffect)((function(){"register"===oe&&(H(!0),setTimeout((function(){re.current.focus()}),100))}),[oe]),Object(c.useEffect)((function(){i&&t.emit("nickname",i)}),[i,t,ue]),Object(c.useEffect)((function(){t.on("challenge",(function(e){V((function(t){return[].concat(Object(l.a)(t),[e.name])})),T((function(t){return[].concat(Object(l.a)(t),[e.time])}))}))}),[t]),Object(c.useEffect)((function(){t.on("friendGame",(function(t){t.room&&e("/Game/"+t.time+t.room)}))}),[t,e]);var je=function(){var e=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post(ce+"login",{username:B,password:P},{withCredentials:!0}).then((function(e){return p()})).catch((function(e){console.log(e),X(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var t=Object(j.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.get(ce+"logout",{withCredentials:!0}).then((function(t){return e(0)})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){O.a.get(ce+"game",{withCredentials:!0}).then((function(e){e.data.user&&s(e.data.user.username)})).catch((function(e){throw new Error(e)}))}),[m]),Object(c.useEffect)((function(){return function(){}}),[]),{name:i,render:Object(w.jsxs)("div",{className:"home",children:[Object(w.jsxs)("div",{className:"nav",children:[Object(w.jsxs)("div",{className:"logo",children:[Object(w.jsx)("img",{src:v,alt:""}),Object(w.jsx)("h2",{children:"Lago Chess"})]}),i?Object(w.jsxs)("div",{className:"logininfo",children:[Object(w.jsx)("button",{onClick:le,children:"Logout"}),Object(w.jsx)("p",{children:i}),Object(w.jsx)("img",{src:x,alt:""})]}):Object(w.jsxs)("div",{className:"login",children:[Object(w.jsx)("button",{onClick:function(){e("/register")},children:"Register"}),Object(w.jsx)("button",{onClick:function(){!1===K?H(!0):!0===K&&je()},children:"Login"}),K&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("input",{type:"text",placeholder:"username",required:!0,ref:re,onChange:function(e){G(e.target.value),X(!1)}}),Object(w.jsx)("input",{type:"password",placeholder:"password",required:!0,onChange:function(e){I(e.target.value),X(!1)}})]})]})]}),Object(w.jsxs)("div",{className:"content",children:[L&&Object(w.jsxs)("div",{className:"login_error",children:[Object(w.jsx)("img",{src:g,alt:""}),Object(w.jsx)("h5",{children:"username or password incorrect"})]}),Object(w.jsx)(A,{times:W,challengers:z,setChallengers:V}),Object(w.jsx)("div",{className:"homeBoard",children:Object(w.jsx)(S.a,{width:600,position:"start"})}),Object(w.jsx)(N,{name:i,time:"".concat(ee,"@").concat($,"@").concat(_,"@").concat(te,"@")}),ne]})]})}},G=(n(87),n(33));n(89);function E(e){var t=Object(a.f)();return Object(w.jsxs)("div",{className:"result",children:[Object(w.jsx)("h2",{children:e.result}),Object(w.jsx)("p",{children:e.reason}),Object(w.jsx)("button",{onClick:function(){t("/")},children:"home"})]})}n(90);var D=n(51),P=Object(c.forwardRef)((function(e,t){var n=Object(D.useTimer)({expiryTimestamp:e.expiryTimestamp,autoStart:!1,onExpire:function(){return"mytimer"===e.id&&e.setTimeover(!0)}}),r=n.seconds,i=n.minutes,s=n.hours,a=n.start,u=n.pause,o=n.resume,j=n.restart;return Object(c.useImperativeHandle)(t,(function(){return{start:function(){a()},pause:function(){u()},resume:function(){o()},incr:function(){var t=60*i+r;j((new Date).setSeconds((new Date).getSeconds()+t+e.incr),!1)},set:function(){var e=60*i+r;return(new Date).setSeconds((new Date).getSeconds()+e)},newSet:function(){j(e.newTime,!1)}}})),Object(c.useEffect)((function(){return function(){}}),[]),Object(w.jsx)("div",{className:"timer",style:{textAlign:"center"},children:Object(w.jsx)("div",{style:{fontSize:"40px",color:"white"},children:s?Object(w.jsxs)("div",{children:[Object(w.jsx)("span",{children:s<10?"0"+s:s}),":",Object(w.jsx)("span",{children:i<10?"0"+i:i}),":",Object(w.jsx)("span",{children:r<10?"0"+r:r})]}):Object(w.jsxs)("div",{children:[Object(w.jsx)("span",{children:i<10?"0"+i:i}),":",Object(w.jsx)("span",{children:r<10?"0"+r:r})]})})})})),I=new G;var q=function(e){var t,n=Object(c.useContext)(h),r=Object(a.f)(),i=Object(a.g)().param,s=Object(c.useState)("start"),u=Object(b.a)(s,2),o=u[0],j=u[1],l=Object(c.useState)(0),f=Object(b.a)(l,2),d=f[0],O=f[1],m=Object(c.useState)(""),p=Object(b.a)(m,2),v=p[0],g=p[1],A=Object(c.useState)(""),y=Object(b.a)(A,2),C=y[0],N=y[1],k=Object(c.useState)("white"),B=Object(b.a)(k,2),G=B[0],D=B[1],q=Object(c.useState)(!1),Q=Object(b.a)(q,2),W=Q[0],T=Q[1],R=Object(c.useState)(!1),Y=Object(b.a)(R,2),L=Y[0],X=Y[1],F=Object(c.useState)(!1),Z=Object(b.a)(F,2),K=Z[0],H=Z[1],M=Object(c.useState)(!1),U=Object(b.a)(M,2),z=U[0],V=U[1],J=Object(c.useState)("Waiting For Opponant..."),_=Object(b.a)(J,2),$=_[0],ee=_[1],te=Object(c.useRef)(),ne=Object(c.useRef)();t=i.split("@");var ce=parseInt(t[0]),re=parseInt(t[1]),ie=parseInt(t[2]),se=parseInt(t[3]),ae=3600*ce+60*re+ie,ue=t[4];Object(c.useEffect)((function(){I.load("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1")}),[]),Object(c.useEffect)((function(){return n.emit("opname",{name:e.name,room:ue}),function(){}})),Object(c.useEffect)((function(){n.emit("room",ue)}),[n,ue]),Object(c.useEffect)((function(){n.on("getopname",(function(e){ee(e)})),n.on("start",(function(e){void 0!==e&&X(!0)})),n.on("turn",(function(e){D("black")})),n.on("newTimer",(function(e){O(e),void 0!==ne.current&&null!==ne.current&&ne.current.newSet()}))}),[n]),Object(c.useEffect)((function(){n.on("OpDraw",(function(){T(!0)}))}),[n]),Object(c.useEffect)((function(){n.on("OpAccepteOffer",(function(){T(!1),n.emit("offer_accepted",ue),g("Draw!!!"),N("by Draw Offer"),V(!0),void 0!==te.current&&null!==te.current&&te.current.pause(),void 0!==ne.current&&null!==ne.current&&ne.current.pause()}))}),[n,ue]);var oe=function(){n.emit("resign",ue)};return Object(c.useEffect)((function(){n.on("receive-move",(function(e){void 0!==te.current&&null!==te.current&&te.current.resume(),void 0!==ne.current&&null!==ne.current&&ne.current.pause();var t=e[0],n=e[1];I.move({from:t,to:n,promotion:"q"}),j(I.fen())}))}),[n]),Object(c.useEffect)((function(){!0===K&&(n.emit("timeout",ue),g("black"===G?"White Win":"Black Win"),N("by Timeout"),V(!0),void 0!==te.current&&null!==te.current&&te.current.pause(),void 0!==ne.current&&null!==ne.current&&ne.current.pause()),n.on("optimeout",(function(){g("black"===G?"Black Win":"White Win"),N("by Timeout"),V(!0),void 0!==te.current&&null!==te.current&&te.current.pause(),void 0!==ne.current&&null!==ne.current&&ne.current.pause()}))}),[K,n,v,C,z,G,ue]),Object(c.useEffect)((function(){n.on("OpResign",(function(){g("black"===G?"Black Win":"White Win"),N("by resignation"),V(!0),void 0!==te.current&&null!==te.current&&te.current.pause(),void 0!==ne.current&&null!==ne.current&&ne.current.pause()}))}),[n,G]),Object(c.useEffect)((function(){I.game_over()&&(I.in_checkmate()&&setTimeout((function(){"w"===I.turn()?g("Black Win"):g("White Win"),N("by checkmate"),V(!0),void 0!==te.current&&null!==te.current&&te.current.pause(),void 0!==ne.current&&null!==ne.current&&ne.current.pause()}),100),I.in_threefold_repetition()&&setTimeout((function(){g("Draw!!!"),N("by repetition"),V(!0),void 0!==te.current&&null!==te.current&&te.current.pause(),void 0!==ne.current&&null!==ne.current&&ne.current.pause()}),100),I.in_stalemate()&&setTimeout((function(){g("Draw!!!"),N("by stalemate"),V(!0),void 0!==te.current&&null!==te.current&&te.current.pause(),void 0!==ne.current&&null!==ne.current&&ne.current.pause()}),100),I.insufficient_material()&&setTimeout((function(){g("Draw!!!"),N("by insufficient material"),V(!0),void 0!==te.current&&null!==te.current&&te.current.pause(),void 0!==ne.current&&null!==ne.current&&ne.current.pause()}),100))})),Object(c.useEffect)((function(){return function(){}}),[]),Object(w.jsxs)("div",{className:"container",children:[W&&Object(w.jsxs)("div",{className:"draw_offer",children:[Object(w.jsx)("p",{style:{color:"white"},children:"Draw Offer"}),Object(w.jsx)("button",{onClick:function(){n.emit("offer_accepted",ue),g("Draw!!!"),N("by Draw Offer"),V(!0),void 0!==te.current&&null!==te.current&&te.current.pause(),void 0!==ne.current&&null!==ne.current&&ne.current.pause()},children:"accept"}),Object(w.jsx)("button",{onClick:function(){T(!1)},children:"refuse"})]}),Object(w.jsx)("button",{className:"gameback",onClick:function(){!z&&oe(),r("/")},children:"back"}),Object(w.jsxs)("div",{className:"board-container",children:[Object(w.jsxs)("div",{className:"player",children:[Object(w.jsxs)("div",{className:"playerInfo",children:[Object(w.jsx)("img",{src:x,alt:""}),Object(w.jsx)("p",{children:$})]}),Object(w.jsx)(P,{expiryTimestamp:(new Date).setSeconds((new Date).getSeconds()+ae),incr:se,newTime:d,id:"optimer",ref:ne})]}),Object(w.jsx)(S.a,{id:ue,width:600,position:o,onDrop:function(e){var t=e.sourceSquare,c=e.targetSquare;if(I.turn()===G.charAt(0)&&L){var r=I.fen();I.move({from:t,to:c,promotion:"q"}),j(I.fen()),I.fen()!==r&&(void 0!==te.current&&null!==te.current&&te.current.pause(),void 0!==ne.current&&null!==ne.current&&null!==ne.current&&ne.current.resume(),n.emit("move",[t,c,ue]),void 0!==te.current&&null!==te.current&&te.current.incr(),n.emit("timerSet",{room:ue,time:te.current.set()}))}},orientation:G}),Object(w.jsxs)("div",{className:"player",children:[Object(w.jsxs)("div",{className:"playerInfo",children:[Object(w.jsx)("img",{src:x,alt:""}),Object(w.jsx)("p",{children:e.name}),Object(w.jsx)("button",{onClick:function(){n.emit("draw_offer",ue)},className:"draw",children:"draw"}),Object(w.jsx)("button",{onClick:function(){oe(),g("black"===G?"Black Win":"White Win"),N("by resignation"),V(!0),void 0!==te.current&&null!==te.current&&null!==te.current&&te.current.pause(),void 0!==ne.current&&null!==ne.current&&ne.current.pause()},className:"draw",children:"resign"})]}),Object(w.jsx)(P,{expiryTimestamp:(new Date).setSeconds((new Date).getSeconds()+ae),incr:se,setTimeover:H,id:"mytimer",ref:te})]})]}),z&&Object(w.jsx)(E,{result:v,reason:C})]})};n(91);var Q=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)({}),s=Object(b.a)(i,2),u=s[0],l=s[1],d=Object(c.useState)(!1),m=Object(b.a)(d,2),p=m[0],h=m[1],x=Object(c.useState)(""),v=Object(b.a)(x,2),g=v[0],A=v[1],y=Object(c.useState)(""),S=Object(b.a)(y,2),C=S[0],N=S[1],k=Object(c.useState)(""),B=Object(b.a)(k,2),G=B[0],E=B[1],D=Object(a.f)(),P=function(){var e=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==g&&""!==C&&""!==G){e.next=4;break}h(!0),e.next=6;break;case 4:return e.next=6,O.a.post("http://localhost:4000/signup",{email:g,username:C,password:G},{withCredentials:!0}).then((function(e){return D("/?p=register")})).catch((function(e){r(!0),e.response&&l(e.response.data.errors)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{className:"register_page",children:Object(w.jsxs)("div",{className:"register",children:[Object(w.jsx)("input",{type:"email",placeholder:"email",required:!0,style:p&&""===g?{border:"1px solid red"}:{border:"0"},onChange:function(e){A(e.target.value),r(!1)}}),Object(w.jsx)("input",{type:"text",placeholder:"username",required:!0,style:p&&""===C?{border:"1px solid red"}:{border:"0"},onChange:function(e){N(e.target.value),r(!1)}}),Object(w.jsx)("input",{type:"password",placeholder:"password",required:!0,style:p&&""===G?{border:"1px solid red"}:{border:"0"},onChange:function(e){E(e.target.value),r(!1)}}),Object(w.jsx)(f.b,{to:"/",onClick:function(e){return e.preventDefault()},children:Object(w.jsx)("button",{onClick:P,children:"Register"})}),n&&Object(w.jsx)("p",{style:{color:"red"},children:u.email}),n&&Object(w.jsx)("p",{style:{color:"red"},children:u.username}),n&&Object(w.jsx)("p",{style:{color:"red"},children:u.password})]})})},W=(n(92),n(28)),T=new G,R=new W.Game;function Y(){var e="white",t=Object(c.useState)(!1),n=Object(b.a)(t,2),r=n[0],i=n[1],s=Object(c.useState)(!1),a=Object(b.a)(s,2),u=a[0],o=a[1],j=Object(c.useState)("start"),l=Object(b.a)(j,2),f=l[0],d=l[1],O=Object(c.useState)(""),m=Object(b.a)(O,2),p=m[0],h=m[1],x=Object(c.useState)(!1),v=Object(b.a)(x,2),g=v[0],A=v[1],y=Object(c.useState)(""),C=Object(b.a)(y,2),N=C[0],k=C[1];Object(c.useEffect)((function(){T.load("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"),R=new W.Game}),[]);Object(c.useEffect)((function(){u&&(T.turn()!==e.charAt(0)?i(!1):i(!0))}),[f,r,e,u]),Object(c.useEffect)((function(){"start"===f||T.turn()===e.charAt(0)||T.game_over()||setTimeout((function(){R.aiMove(parseInt(1));var e=R.exportJson();T.load(Object(W.getFen)(e)),d(T.fen())}),10)}),[f,1,e]),T.game_over()&&(T.in_checkmate()&&setTimeout((function(){"w"===T.turn()?h("Black Win"):h("White Win"),k("by checkmate"),A(!0)}),100),T.in_threefold_repetition()&&setTimeout((function(){h("Draw!!!"),k("by repetition"),A(!0)}),100),T.in_stalemate()&&setTimeout((function(){h("Draw!!!"),k("by stalemate"),A(!0)}),100),T.insufficient_material()&&setTimeout((function(){h("Draw!!!"),k("by insufficient material"),A(!0)}),100));var B=function(){o(!0),T.load("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"),R=new W.Game,d(T.fen()),A(!1)};return Object(w.jsxs)("div",{className:"computer_board",children:[g&&Object(w.jsx)(E,{result:p,reason:N}),Object(w.jsx)(S.a,{width:600,position:f,onDrop:function(e){var t=e.sourceSquare,n=e.targetSquare,c=T.fen();T.move({from:t,to:n,promotion:"q"}),T.fen()!==c&&(R.move(t,n),d(T.fen()))},orientation:e,draggable:r}),Object(w.jsxs)("div",{className:"config",children:[Object(w.jsx)("h2",{children:"Game Config"}),Object(w.jsx)("button",{className:"btn",onClick:B,children:"start"}),Object(w.jsx)("button",{className:"btn",onClick:B,children:"Restart"})]})]})}var L=function(){var e=B(),t=e.name,n=e.render;return Object(w.jsx)("div",{className:"App",children:Object(w.jsxs)(a.c,{children:[Object(w.jsx)(a.a,{exact:!0,path:"/",element:n}),Object(w.jsx)(a.a,{exact:!0,path:"/computer",element:Object(w.jsx)(Y,{})}),Object(w.jsx)(a.a,{exact:!0,path:"/register",element:Object(w.jsx)(Q,{})}),Object(w.jsx)(a.a,{path:"/Game/:param",element:Object(w.jsx)(q,{name:t})})]})})};s.a.render(Object(w.jsx)(r.a.Fragment,{children:Object(w.jsx)(f.a,{children:Object(w.jsx)(h.Provider,{value:p,children:Object(w.jsx)(L,{})})})}),document.getElementById("root"))},57:function(e,t,n){},59:function(e,t,n){},82:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.ee8ff784.chunk.js.map