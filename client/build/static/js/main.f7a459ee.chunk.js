(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(49),s=n.n(i),a=(n(60),n(3)),o=n(20),u=n.n(o),j=n(25),b=n(37),l=n(2),f=n(17),O=n(24),d=n.n(O),m=n(55),h=Object(m.a)("http://localhost:4000"),p=r.a.createContext(),x="data:image/jpeg;base64,R0lGODdhwQDBAPIAANrY1ayqqJqYlcnHxISCgLy7t4mHhefl4ywAAAAAwQDBAAAD/3i63P4wykmrvTjrzbv/YCiOZGmeaKqubOu+cCzPdG3feK7vfO//wKBwSCwaj8ikcslsOp/QqHRKrVqv2Kx2y+16v+CwGAcADAro9GANGHvN6bhc3XZf4fO8PBCo26EAeoJzAQIFf09neWtnioMBBAJ+iEiOagNlmWWWeZAGA5RIeZqkmZx7BJ+hRXOYpa+DBQIEBKCrQa2vurEFBga1tz+crrqlvLO+k8Fkc8Wvp3m+kcs6gXLOsLwDyASH1DfD2KTQnb6+3zbWceKa5HoC0t7oMuHsZbxy8L8G8zLqdPbwxRkQwFy3fjD+obHnLpZBAQhfjBLX0KE5A8oiosiFrf9iLH2/5GlEoXBhMY/HUvkKMFJFyQLFBB572DIFNGKZZGpD5gtizRPkGKHUKesiv58mhhL9qDIZ0hJKlwri6fTpiKhSoxm1SgJr1jgFt3IV4fUrGk/mfI4F8dJsSoMs17J1SzSsQZFyO9DVCVKarbweymY1eg7wh7Z78zX9Fdewh8Sx0BrM6DiDYJ2Ep1X+APld5r+bOVx+e1Fz6Med0WxbLI3yaQyIv/a9+xrE6DlUada2vdeuUdO7P9ye/dB1cA2Cff+WdHxE7E65jTZuHuL5nn2EpU2n3gGPTsnZIxnnTsG6IPCZCWwnX34468wCQLOPYB5f9PTr5zNIfR++fP3/9RGVXXjq6adAgEspN6A0qrCH4FIELRhefq89+BV6EqbyX2i3EUWchIyNt5Z3qQ3yYYYNbmZhb++BWGBoK9LVX4Z4OVaifS1muCFgN/IC4oAEiDhWh0v9OGBtRH5n5G8UGtbjeTkueBCST+ZxIojBxTjYknAdlyQvGP4oJGBjAnDljzwBU8YBa7bZxpjkAcBleAbtaCAGc+p4pwdy5gmknXuWh52fpQEa6AQCJCpNlHoeugFYhcDD6GeOaoBYIQy6WGOlE8R2RiGTTsmpBfUVFOWLo1YQ1ZXApSoBVmG26ioEXs0I56hbUjorfVndh+quDiT3nqzAKnBhjrceqmV//6IWq8BlJxK7q1mNOqtlL1I2ieuFLiYLoFlhdlmsWzNOBuy1RbmoVqroYvsjMK52OOlFrrYbbmba6rfXmZltamBi/Gbn7WtJ+iltnJAR+ut87aZxb4b51taww/MC6W9w/FVsMcKpEUqYoY5NLIfHv4Gcl8hgkfzbxWT2+PCczVaGsmIqM8lhleUqvG5eX+pRM5DMyUXijS97rOGIVVL8c7Zc9WyixkZH/I3Tgyz97s4RUV211eq2pDWUXHcd0cxgQv3zwtSQTVrYNPbz9dZsvzuwF2/DHXeGWIeidtl3v8uyG3VPZTbbc2ext499G4n2H4HrUXTiVVFyuEWQvyt1F/+NdzJ436sk7XjlXML7x+SCgB563mF4rpXpXBYuRZ8BqF6AgqxXO8YAtNAiAB8u51z7cn9IRktPvO/r+++Eoe7FjMMbkOjufEQfe/SzS69o88jD7PoTfb77S+5NhW8Q9tkb/HcWA5SvvouXW1HA5utDvngXj8f/uxv128/69k0cr3/t/GNCwP7HuiCNgYAEFN0XuofA+CnwCw3UX8y6wMAIlu+By4OfBZdmwANqcINGwyAYZvFBEIYuRXZYTQlNCKRUtA9zplohC3NnCHQEIobkY2GGhmeIAL5hdpICnw7BpxJDYIIrcIjUoog4qMoRMXc92V0BjngaM3yKD4oCyRM4t8hFLl7kedCboiuU1Q6hQEgomWCTs9bIxja68Y1wjKMc50jHOtrxjnjMox73yMc++vGPgKREAgAAOw==",v=n.p+"static/media/logo.57714c60.png",g=n.p+"static/media/close.ffdafe3f.png",w=n(1);function A(e){var t=e.setNewGame,n=e.times,r=e.challengers,i=e.setChallengers,s=Object(c.useContext)(p),o=Object(a.f)();return Object(c.useEffect)((function(){return function(){}}),[]),Object(w.jsx)("div",{className:"challengers",children:r&&r.map((function(e,c){return Object(w.jsxs)("div",{style:{top:85*(c+1)+"px"},className:"challenger",children:[Object(w.jsxs)("p",{style:{color:"white"},children:["challenge from ",e]}),Object(w.jsx)("button",{onClick:function(){!function(e,c){var r,a=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);r=0===n[c]?"010":1===n[c]?"011":2===n[c]?"020":3===n[c]?"030":4===n[c]?"032":5===n[c]?"050":6===n[c]?"100":7===n[c]?"300":8===n[c]?"600":"null",s.emit("accept",{challenger:e,room:a,time:r}),i((function(t){return t.filter((function(t){return t!==e}))})),t(!1),o("/Game/"+r+a)}(e,c)},children:"accept"}),Object(w.jsx)("button",{onClick:function(){!function(e){i((function(t){return t.filter((function(t){return t!==e}))}))}(e)},children:"refuse"})]},c)}))})}var k=n.p+"static/media/puzzle.bbc85366.png";function C(){return Object(w.jsxs)("div",{className:"puzzles",children:[Object(w.jsx)("h1",{children:"Puzzles"}),Object(w.jsx)("div",{className:"profile",children:Object(w.jsx)("img",{src:k,alt:""})}),Object(w.jsx)("div",{className:"puzzle_start",children:Object(w.jsx)("button",{children:"comming soon..."})})]})}var N=n(38),y=function(e){var t=e.name,n=e.time,r=Object(c.useContext)(p),i=Object(c.useState)([]),s=Object(l.a)(i,2),a=s[0],o=s[1];return Object(c.useEffect)((function(){return r.emit("get_users"),function(){}}),[r]),Object(c.useEffect)((function(){return r.on("user_dis",(function(){r.emit("get_users")})),function(){}}),[r]),Object(c.useEffect)((function(){return r.on("online_users",(function(e){for(var n=[],c=0;c<e.length;c++)n.includes(e[c].name)||n.push(e[c].name);o(n.filter((function(e){return e!==t})))})),function(){}}),[r,t]),Object(c.useEffect)((function(){return function(){}}),[]),Object(w.jsx)("div",{className:"friends",children:a&&a.map((function(e,c){return Object(w.jsxs)("div",{className:"friend",children:[Object(w.jsx)("h2",{children:e}),Object(w.jsx)("button",{className:e,onClick:function(){!function(e){r.emit("play",{name:t,friend:e,time:n})}(e)},children:"Play"})]},c)}))})},S=n.p+"static/media/cancel.c7472748.png";var G=function(e){var t=e.name,n=e.setNewGame,r=Object(c.useState)(0),i=Object(l.a)(r,2),s=i[0],a=i[1],o=Object(c.useState)([{id:0,isActive:!0},{id:1,isActive:!1},{id:2,isActive:!1},{id:3,isActive:!1},{id:4,isActive:!1},{id:5,isActive:!1},{id:6,isActive:!1},{id:7,isActive:!1},{id:8,isActive:!1}]),u=Object(l.a)(o,2),j=u[0],b=u[1],f=function(e){var t=j.map((function(t){return Object(N.a)(Object(N.a)({},t),{},{isActive:t.id===e})}));b(t),a(e)};return Object(c.useEffect)((function(){return function(){}}),[]),Object(w.jsxs)("div",{className:"newgame",children:[Object(w.jsx)("button",{className:"buttonback",onClick:function(){n(!1)},children:Object(w.jsx)("img",{src:S,alt:""})}),Object(w.jsxs)("div",{className:"timeControl",children:[Object(w.jsx)("button",{style:j[0].isActive?{background:"#7a3ffb",color:"white"}:{background:"white"},onClick:function(){f(0)},children:"1 min"}),Object(w.jsx)("button",{style:j[1].isActive?{background:"#7a3ffb",color:"white"}:{background:"white"},onClick:function(){f(1)},children:"1 | 1"}),Object(w.jsx)("button",{style:j[2].isActive?{background:"#7a3ffb",color:"white"}:{background:"white"},onClick:function(){f(2)},children:"2 min"}),Object(w.jsx)("button",{style:j[3].isActive?{background:"#7a3ffb",color:"white"}:{background:"white"},onClick:function(){f(3)},children:"3 min"}),Object(w.jsx)("button",{style:j[4].isActive?{background:"#7a3ffb",color:"white"}:{background:"white"},onClick:function(){f(4)},children:"3 | 2"}),Object(w.jsx)("button",{style:j[5].isActive?{background:"#7a3ffb",color:"white"}:{background:"white"},onClick:function(){f(5)},children:"5 min"}),Object(w.jsx)("button",{style:j[6].isActive?{background:"#7a3ffb",color:"white"}:{background:"white"},onClick:function(){f(6)},children:"10 min"}),Object(w.jsx)("button",{style:j[7].isActive?{background:"#7a3ffb",color:"white"}:{background:"white"},onClick:function(){f(7)},children:"30 min"}),Object(w.jsx)("button",{style:j[8].isActive?{background:"#7a3ffb",color:"white"}:{background:"white"},onClick:function(){f(8)},children:"60 min"})]}),Object(w.jsxs)("div",{className:"online_users",children:[Object(w.jsx)("h2",{children:"Online users"}),Object(w.jsx)(y,{name:t,time:s})]})]})},B=n(54);n(85);function E(e){var t=e.setNewComputerGame,n=Object(c.useState)(0),r=Object(l.a)(n,2),i=r[0],s=r[1],a=Object(c.useState)("white"),o=Object(l.a)(a,2),u=o[0],j=o[1];return Object(c.useEffect)((function(){return function(){}}),[]),Object(w.jsxs)("div",{className:"newgame",children:[Object(w.jsx)("button",{className:"buttonback",onClick:function(){t(!1)},children:Object(w.jsx)("img",{src:S,alt:""})}),Object(w.jsxs)("div",{className:"online_users",children:[Object(w.jsx)("h2",{children:"Game config"}),Object(w.jsxs)("div",{className:"slider",children:[Object(w.jsx)("p",{children:"computer level"}),Object(w.jsx)(B.a,{min:0,max:4,step:1,onChange:function(e){s(e)}}),Object(w.jsx)("p",{children:i})]}),Object(w.jsxs)("div",{className:"timecontrol",children:[Object(w.jsx)("button",{style:"white"===u?{background:"#7a3ffb",color:"white"}:{background:"white",color:"black"},className:"btn",onClick:function(){j("white")},children:"WHITE"}),Object(w.jsx)("button",{style:"black"===u?{background:"#7a3ffb",color:"white"}:{background:"white",color:"black"},className:"btn",onClick:function(){j("black")},children:"BLACK"})]}),Object(w.jsx)(f.b,{to:"/computer/"+u+"p"+i,children:Object(w.jsx)("button",{className:"btn",children:"Start"})})]})]})}var P=function(){var e=Object(a.f)(),t=Object(c.useContext)(p),n=Object(c.useState)(""),r=Object(l.a)(n,2),i=r[0],s=r[1],o=Object(c.useState)(""),O=Object(l.a)(o,2),m=O[0],h=O[1],k=Object(c.useState)(""),N=Object(l.a)(k,2),y=N[0],S=N[1],B=Object(c.useState)(""),P=Object(l.a)(B,2),D=P[0],q=P[1],I=Object(c.useState)(""),Q=Object(l.a)(I,2),W=Q[0],R=Q[1],T=Object(c.useState)(!1),Y=Object(l.a)(T,2),L=Y[0],X=Y[1],F=Object(c.useState)(!1),K=Object(l.a)(F,2),z=K[0],Z=K[1],H=Object(c.useState)([]),M=Object(l.a)(H,2),U=M[0],V=M[1],J=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),r=n[0],i=n[1];return{newGame:r,setNewGame:i,renderPlay:Object(w.jsxs)("div",{className:"play",children:[Object(w.jsx)("h1",{children:"Play"}),Object(w.jsxs)("div",{className:"profile",children:[Object(w.jsx)("img",{src:x,alt:""}),Object(w.jsx)("p",{children:e})]}),Object(w.jsx)("div",{className:"start",children:Object(w.jsx)("button",{onClick:function(){i(!0)},children:"Find an opponent"})})]})}}(i),_=J.newGame,$=J.setNewGame,ee=J.renderPlay,te=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1];return{newComputerGame:n,setNewComputerGame:r,renderComputer:Object(w.jsxs)("div",{className:"computer",children:[Object(w.jsx)("h1",{children:"Computer"}),Object(w.jsx)("div",{className:"profile",children:Object(w.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAC00lEQVR4nO2bQU8TQRTHf68Y48EgpYmxWDlL+AZGrx74ABxI0MSk5WLiDfCCRo0Hbx7rlQQjn4C7fAVSzwXbxAStPRFI93nQBm2hO9vd2Z2p+7vN9s30/f+dnX27s4WcnP8aMQ1c+dReQqgDFYv5jEX3pMfPkwCAqYL0rhXk5d6TyhuTvgXjb/FAPEAv0KmTQF+Y9jc3wAPxfXqBXjEdI4oBTnGZ+Kh4aUBS4sFDA5IUD54ZkLR48MgAG+LBEwNsiQcPDLApHhw3wLZ4cNiANMSDowakJR4cNCBN8eCYAWmLB4cMyEI8OGJAVuLBAQOyFA8ZG5C1eMjQABfEQ0YGuCIeMjDAJfGQsgGuiYcUDXBRPIDx09Ontw9t5pE49wzjMq8DssZrA1qtNq1WO9YYXhuQBMZrAHCEY7tDc3Plyz5qmo4RZW+wquDDSthEtGYabLw7HJd6fedu58e3hknsTPHmwtrayhfbOUGqa8DpQzux8YiyBsSiVCyelWaLZsHKmd1szklvBgiLVmJjkuIpIBFERYmNR4oGaARRUWLjYfUq8O7t+yUt6Piv1giHEkht/fmzvWQzO8fqDIglHkC5o6L15DIaxu4pIKjV8RPAqgESSA2JVT02FYyrupycnJyo+Piu8JGi1Y/Lc4nUBj6+K1wRJLHaIMrdoAvi+8wPHljcPbg627n+GmQVUEG2j2e6WwfLi6ejBkrtdtg2pc70K0XX+21FN0qdaYDNUf3GKoT2G232G+3M2heh6KOhY6KPw7RM0lPh4Sekyq2wTuZXgd22U3X9znL5n9wffGhemN/n2vxIjZM0A8ZirEWwfz7eXyiPbEclbLx+O0kmaQa0Bg8IfA3rNNYMGPwlwtpJj38RgmwruvH3sUBkO6zfxNQBxzPdrVJnGkVX4bch3290Q/895uve4NDe35+Kb5OQwmcQ4zVA0Spu7A02UfO9v5ycnJH8AnWKTkL/vDLAAAAAAElFTkSuQmCC",alt:""})}),Object(w.jsx)("div",{className:"computer_start",children:Object(w.jsx)("button",{onClick:function(){r(!0)},children:"Start Game"})})]})}}(),ne=te.newComputerGame,ce=te.setNewComputerGame,re=te.renderComputer,ie="http://localhost:4000",se=Object(c.useRef)(),ae=Object(f.c)(),oe=Object(l.a)(ae,2),ue=oe[0],je=oe[1],be=ue.get("p");Object(c.useEffect)((function(){"register"===be&&(Z(!0),setTimeout((function(){se.current.focus()}),100))}),[be]),Object(c.useEffect)((function(){i&&(t.emit("nickname",i),je())}),[i,t,je]),Object(c.useEffect)((function(){t.on("challenge",(function(e){V((function(t){return[].concat(Object(b.a)(t),[e.name])})),R((function(t){return[].concat(Object(b.a)(t),[e.time])}))}))}),[t]),Object(c.useEffect)((function(){t.on("friendGame",(function(t){$(!1),e("/Game/"+t.time+t.room)}))}),[t,e,$]);var le=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post(ie+"/login",{username:y,password:D},{withCredentials:!0}).then((function(e){return h()})).catch((function(e){console.log(e),X(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var t=Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get(ie+"/logout",{withCredentials:!0}).then((function(t){return e(0)})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){d.a.get(ie+"/game",{withCredentials:!0}).then((function(e){e.data.user&&s(e.data.user.username)})).catch((function(e){throw new Error(e)}))}),[m]),Object(c.useEffect)((function(){return function(){}}),[]),{name:i,render:Object(w.jsxs)("div",{className:"home",children:[Object(w.jsxs)("div",{className:"nav",children:[Object(w.jsxs)("div",{className:"logo",children:[Object(w.jsx)("img",{src:v,alt:""}),Object(w.jsx)("h2",{children:"Lago Chess"})]}),i?Object(w.jsxs)("div",{className:"logininfo",children:[Object(w.jsx)("button",{onClick:fe,children:"Logout"}),Object(w.jsx)("p",{children:i}),Object(w.jsx)("img",{src:x,alt:""})]}):Object(w.jsxs)("div",{className:"login",children:[Object(w.jsx)("button",{onClick:function(){e("/register")},children:"Register"}),Object(w.jsx)("button",{onClick:function(){!1===z?Z(!0):!0===z&&le()},children:"Login"}),z&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("input",{type:"text",placeholder:"username",required:!0,ref:se,onChange:function(e){S(e.target.value),X(!1)}}),Object(w.jsx)("input",{type:"password",placeholder:"password",required:!0,onChange:function(e){q(e.target.value),X(!1)}})]})]})]}),Object(w.jsxs)("div",{className:"content",children:[L&&Object(w.jsxs)("div",{className:"login_error",children:[Object(w.jsx)("img",{src:g,alt:""}),Object(w.jsx)("h5",{children:"username or password incorrect"})]}),Object(w.jsx)(A,{setNewGame:$,times:W,challengers:U,setChallengers:V}),ee,Object(w.jsx)(C,{}),re,_&&Object(w.jsx)(G,{name:i,setNewGame:$}),ne&&Object(w.jsx)(E,{setNewComputerGame:ce})]})]})}},D=n(33),q=n.n(D),I=n(34);function Q(e){var t=Object(a.f)();return Object(w.jsxs)("div",{className:"result",children:[Object(w.jsx)("h2",{children:e.result}),Object(w.jsx)("p",{children:e.reason}),Object(w.jsx)("button",{onClick:function(){t("/")},children:"home"})]})}var W=n(53),R=Object(c.forwardRef)((function(e,t){var n=Object(W.useTimer)({expiryTimestamp:e.expiryTimestamp,autoStart:!1,onExpire:function(){return"mytimer"===e.id&&e.setTimeover(!0)}}),r=n.seconds,i=n.minutes,s=n.hours,a=n.start,o=n.pause,u=n.resume,j=n.restart;return Object(c.useImperativeHandle)(t,(function(){return{start:function(){a()},pause:function(){o()},resume:function(){u()},incr:function(){var t=60*i+r;j((new Date).setSeconds((new Date).getSeconds()+t+e.incr),!1)},set:function(){var e=60*i+r;return(new Date).setSeconds((new Date).getSeconds()+e)},newSet:function(){j(e.newTime,!1)}}})),Object(c.useEffect)((function(){return function(){}}),[]),Object(w.jsx)("div",{className:"timer",style:{textAlign:"center"},children:Object(w.jsx)("div",{style:{fontSize:"40px",color:"white"},children:s?Object(w.jsxs)("div",{children:[Object(w.jsx)("span",{children:s<10?"0"+s:s}),":",Object(w.jsx)("span",{children:i<10?"0"+i:i}),":",Object(w.jsx)("span",{children:r<10?"0"+r:r})]}):Object(w.jsxs)("div",{children:[Object(w.jsx)("span",{children:i<10?"0"+i:i}),":",Object(w.jsx)("span",{children:r<10?"0"+r:r})]})})})})),T=new I;var Y=function(e){var t=Object(c.useContext)(p),n=Object(a.f)(),r=Object(a.g)().room,i=Object(c.useState)("start"),s=Object(l.a)(i,2),o=s[0],u=s[1],j=Object(c.useState)(0),b=Object(l.a)(j,2),f=b[0],O=b[1],d=Object(c.useState)(""),m=Object(l.a)(d,2),h=m[0],v=m[1],g=Object(c.useState)(""),A=Object(l.a)(g,2),k=A[0],C=A[1],N=Object(c.useState)("white"),y=Object(l.a)(N,2),S=y[0],G=y[1],B=Object(c.useState)(!1),E=Object(l.a)(B,2),P=E[0],D=E[1],I=Object(c.useState)(!1),W=Object(l.a)(I,2),Y=W[0],L=W[1],X=Object(c.useState)(!1),F=Object(l.a)(X,2),K=F[0],z=F[1],Z=Object(c.useState)(!1),H=Object(l.a)(Z,2),M=H[0],U=H[1],V=Object(c.useState)("Waiting For Opponant..."),J=Object(l.a)(V,2),_=J[0],$=J[1],ee=Object(c.useRef)(),te=Object(c.useRef)(),ne=parseInt(r.charAt(0)+r.charAt(1)),ce=parseInt(r.charAt(2));Object(c.useEffect)((function(){return T.load("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"),function(){T.load("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1")}}),[]),Object(c.useEffect)((function(){return t.emit("opname",{name:e.name,room:r}),function(){}})),Object(c.useEffect)((function(){t.emit("room",r)}),[t,r]),Object(c.useEffect)((function(){t.on("getopname",(function(e){$(e)})),t.on("start",(function(e){void 0!==e&&L(!0)})),t.on("turn",(function(e){G("black")})),t.on("newTimer",(function(e){O(e),te.current&&te.current.newSet()}))}),[t]),Object(c.useEffect)((function(){t.on("OpDraw",(function(){D(!0)}))}),[t]),Object(c.useEffect)((function(){t.on("OpAccepteOffer",(function(){D(!1),t.emit("offer_accepted",r),v("Draw!!!"),C("by Draw Offer"),U(!0),ee.current.pause(),te.current.pause()}))}),[t,r]);var re=function(){t.emit("resign",r)};return Object(c.useEffect)((function(){t.on("receive-move",(function(e){ee.current.resume(),te.current.pause();var t=e[0],n=e[1];T.move({from:t,to:n,promotion:"q"}),u(T.fen())}))}),[t]),Object(c.useEffect)((function(){!0===K&&(t.emit("timeout",r),v("black"===S?"White Win":"Black Win"),C("by Timeout"),U(!0)),t.on("optimeout",(function(){v("black"===S?"Black Win":"White Win"),C("by Timeout"),U(!0)}))}),[K,t,h,k,M,S,r]),Object(c.useEffect)((function(){t.on("OpResign",(function(){v("black"===S?"Black Win":"White Win"),C("by resignation"),U(!0),ee.current.pause(),te.current.pause()}))}),[t,S]),Object(c.useEffect)((function(){T.game_over()&&(T.in_checkmate()&&setTimeout((function(){"w"===T.turn()?v("Black Win"):v("White Win"),C("by checkmate"),U(!0),ee.current.pause(),te.current.pause()}),100),T.in_threefold_repetition()&&setTimeout((function(){v("Draw!!!"),C("by repetition"),U(!0),ee.current.pause(),te.current.pause()}),100),T.in_stalemate()&&setTimeout((function(){v("Draw!!!"),C("by stalemate"),U(!0),ee.current.pause(),te.current.pause()}),100),T.insufficient_material()&&setTimeout((function(){v("Draw!!!"),C("by insufficient material"),U(!0),ee.current.pause(),te.current.pause()}),100))})),Object(c.useEffect)((function(){return function(){}}),[]),Object(w.jsxs)("div",{className:"container",children:[P&&Object(w.jsxs)("div",{className:"draw_offer",children:[Object(w.jsx)("p",{style:{color:"white"},children:"Draw Offer"}),Object(w.jsx)("button",{onClick:function(){t.emit("offer_accepted",r),v("Draw!!!"),C("by Draw Offer"),U(!0),ee.current.pause(),te.current.pause()},children:"accept"}),Object(w.jsx)("button",{onClick:function(){D(!1)},children:"refuse"})]}),Object(w.jsx)("button",{className:"gameback",onClick:function(){!M&&re(),n("/")},children:"back"}),Object(w.jsxs)("div",{className:"board-container",children:[Object(w.jsxs)("div",{className:"player",children:[Object(w.jsxs)("div",{className:"playerInfo",children:[Object(w.jsx)("img",{src:x,alt:""}),Object(w.jsx)("p",{children:_})]}),Object(w.jsx)(R,{expiryTimestamp:(new Date).setSeconds((new Date).getSeconds()+60*ne),incr:ce,newTime:f,id:"optimer",ref:te})]}),Object(w.jsx)(q.a,{id:r,width:600,position:o,onDrop:function(e){var n=e.sourceSquare,c=e.targetSquare;if(T.turn()===S.charAt(0)&&Y){var i=T.fen();T.move({from:n,to:c,promotion:"q"}),u(T.fen()),T.fen()!==i&&(ee.current.pause(),te.current.resume(),t.emit("move",[n,c,r]),ee.current.incr(),t.emit("timerSet",{room:r,time:ee.current.set()}))}},orientation:S}),Object(w.jsxs)("div",{className:"player",children:[Object(w.jsxs)("div",{className:"playerInfo",children:[Object(w.jsx)("img",{src:x,alt:""}),Object(w.jsx)("p",{children:e.name}),Object(w.jsx)("button",{onClick:function(){t.emit("draw_offer",r)},className:"draw",children:"draw"}),Object(w.jsx)("button",{onClick:function(){re(),v("black"===S?"Black Win":"White Win"),C("by resignation"),U(!0),ee.current.pause(),te.current.pause()},className:"draw",children:"resign"})]}),Object(w.jsx)(R,{expiryTimestamp:(new Date).setSeconds((new Date).getSeconds()+60*ne),incr:ce,setTimeover:z,id:"mytimer",ref:ee})]})]}),M&&Object(w.jsx)(Q,{result:h,reason:k})]})};var L=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)({}),s=Object(l.a)(i,2),o=s[0],b=s[1],O=Object(c.useState)(!1),m=Object(l.a)(O,2),h=m[0],p=m[1],x=Object(c.useState)(""),v=Object(l.a)(x,2),g=v[0],A=v[1],k=Object(c.useState)(""),C=Object(l.a)(k,2),N=C[0],y=C[1],S=Object(c.useState)(""),G=Object(l.a)(S,2),B=G[0],E=G[1],P=Object(a.f)(),D=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==g&&""!==N&&""!==B){e.next=4;break}p(!0),e.next=6;break;case 4:return e.next=6,d.a.post("http://localhost:4000/signup",{email:g,username:N,password:B},{withCredentials:!0}).then((function(e){return P("/?p=register")})).catch((function(e){r(!0),e.response&&b(e.response.data.errors)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{className:"register_page",children:Object(w.jsxs)("div",{className:"register",children:[Object(w.jsx)("input",{type:"email",placeholder:"email",required:!0,style:h&&""===g?{border:"1px solid red"}:{border:"0"},onChange:function(e){A(e.target.value),r(!1)}}),Object(w.jsx)("input",{type:"text",placeholder:"username",required:!0,style:h&&""===N?{border:"1px solid red"}:{border:"0"},onChange:function(e){y(e.target.value),r(!1)}}),Object(w.jsx)("input",{type:"password",placeholder:"password",required:!0,style:h&&""===B?{border:"1px solid red"}:{border:"0"},onChange:function(e){E(e.target.value),r(!1)}}),Object(w.jsx)(f.b,{to:"/",onClick:function(e){return e.preventDefault()},children:Object(w.jsx)("button",{onClick:D,children:"Register"})}),n&&Object(w.jsx)("p",{style:{color:"red"},children:o.email}),n&&Object(w.jsx)("p",{style:{color:"red"},children:o.username}),n&&Object(w.jsx)("p",{style:{color:"red"},children:o.password})]})})},X=n(28),F=new I,K=new X.Game;function z(){var e=Object(a.g)().config.split("p"),t=e[0],n=e[1],r=Object(c.useState)(!1),i=Object(l.a)(r,2),s=i[0],o=i[1],u=Object(c.useState)(!1),j=Object(l.a)(u,2),b=j[0],f=j[1],O=Object(c.useState)("start"),d=Object(l.a)(O,2),m=d[0],h=d[1],p=Object(c.useState)(""),x=Object(l.a)(p,2),v=x[0],g=x[1],A=Object(c.useState)(!1),k=Object(l.a)(A,2),C=k[0],N=k[1],y=Object(c.useState)(""),S=Object(l.a)(y,2),G=S[0],B=S[1];Object(c.useEffect)((function(){F.load("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"),K=new X.Game}),[]);Object(c.useEffect)((function(){b&&(F.turn()!==t.charAt(0)?o(!1):o(!0))}),[m,s,t,b]),Object(c.useEffect)((function(){"start"===m||F.turn()===t.charAt(0)||F.game_over()||setTimeout((function(){K.aiMove(parseInt(n));var e=K.exportJson();F.load(Object(X.getFen)(e)),h(F.fen())}),10)}),[m,n,t]),F.game_over()&&(F.in_checkmate()&&setTimeout((function(){"w"===F.turn()?g("Black Win"):g("White Win"),B("by checkmate"),N(!0)}),100),F.in_threefold_repetition()&&setTimeout((function(){g("Draw!!!"),B("by repetition"),N(!0)}),100),F.in_stalemate()&&setTimeout((function(){g("Draw!!!"),B("by stalemate"),N(!0)}),100),F.insufficient_material()&&setTimeout((function(){g("Draw!!!"),B("by insufficient material"),N(!0)}),100));var E=function(){f(!0),F.load("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"),K=new X.Game,h(F.fen()),N(!1)};return Object(w.jsxs)("div",{className:"computer_board",children:[C&&Object(w.jsx)(Q,{result:v,reason:G}),Object(w.jsx)(q.a,{width:600,position:m,onDrop:function(e){var t=e.sourceSquare,n=e.targetSquare,c=F.fen();F.move({from:t,to:n,promotion:"q"}),F.fen()!==c&&(K.move(t,n),h(F.fen()))},orientation:t,draggable:s}),Object(w.jsxs)("div",{className:"config",children:[Object(w.jsx)("h2",{children:"Game Config"}),Object(w.jsx)("button",{className:"btn",onClick:E,children:"start"}),Object(w.jsx)("button",{className:"btn",onClick:E,children:"Restart"})]})]})}var Z=function(){var e=P(),t=e.name,n=e.render;return Object(w.jsx)("div",{className:"App",children:Object(w.jsxs)(a.c,{children:[Object(w.jsx)(a.a,{exact:!0,path:"/",element:n}),Object(w.jsx)(a.a,{exact:!0,path:"/computer/:config",element:Object(w.jsx)(z,{})}),Object(w.jsx)(a.a,{exact:!0,path:"/register",element:Object(w.jsx)(L,{})}),Object(w.jsx)(a.a,{exact:!0,path:"/Game/:room",element:Object(w.jsx)(Y,{name:t})})]})})};s.a.render(Object(w.jsx)(r.a.Fragment,{children:Object(w.jsx)(f.a,{children:Object(w.jsx)(p.Provider,{value:h,children:Object(w.jsx)(Z,{})})})}),document.getElementById("root"))},60:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.f7a459ee.chunk.js.map